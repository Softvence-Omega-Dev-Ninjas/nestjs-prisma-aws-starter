model User {
  id String @id @default(uuid())

  // Identity
  name     String @default("Unnamed User")
  email    String @unique
  password String // hashed password

  // Settings
  role       UserRole   @default(USER)
  status     UserStatus @default(ACTIVE)
  isVerified Boolean    @default(false)

  // Logout tracking
  isLoggedIn   Boolean   @default(false)
  lastLoginAt  DateTime?
  lastLogoutAt DateTime?
  lastActiveAt DateTime?

  // OTP
  otp          String? // 4 digit hashed OTP code
  otpExpiresAt DateTime?
  otpType      OtpType?

  // Avatar
  profilePictureId String?
  profilePicture   FileInstance? @relation(fields: [profilePictureId], references: [id], onDelete: SetNull)

  // Notifications
  notifications UserNotification[]

  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt

  @@map("users")
}

enum UserRole {
  SUPER_ADMIN
  ADMIN
  USER
}

enum UserStatus {
  ACTIVE
  INACTIVE
  DELETED
}

enum OtpType {
  VERIFICATION // for email verification
  RESET //for reset password
}
